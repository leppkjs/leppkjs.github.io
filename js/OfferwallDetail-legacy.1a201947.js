(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["OfferwallDetail"],{"22cc":function(t,e,i){"use strict";var n=i("4ea4"),o=i("dbce");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("6762");var r=o(i("9ab4")),a=i("60a3"),s=i("8c0e"),c=i("aab0"),l=i("cab0"),u=i("4c9c"),d=n(i("b28f")),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rewardTitle="",e.rewardInfo={image:"",item:null,count:0},e}return r.__extends(e,t),e.prototype.created=function(){this.setRewardInfo()},e.prototype.onChangeItem=function(){this.setRewardInfo()},e.prototype.getRewardItem=function(t){var e="";if(t.rewardType===u.REWARD_TYPE.ITEM){var i=c.i18nProvider.i18n.locale,n=i,o=["ko","ja"];e=o.includes(n)?t.rewardDesc+" "+l.CommonUtil.getRemainReward(t.rewardCnt):l.CommonUtil.getRemainReward(t.rewardCnt)+" "+t.rewardDesc}return e},e.prototype.setRewardInfo=function(){var t=this.questItem.rewardList,e=null;e=t?{image:t[0].resourceId,item:this.getRewardItem(t[0]),count:l.CommonUtil.getRemainReward(this.questItem.completeCnt)}:{image:this.questItem.resourceId,item:this.getRewardItem(this.questItem),count:l.CommonUtil.getRemainReward(this.questItem.completeCnt)},this.questItem.status===u.PROMOTION_STATUS.COMPLETE&&(e.image="",e.image=d.default),this.rewardInfo=e,this.rewardTitle=this.questItem.rewardList?this.questItem.rewardList[0].rewardTerms:""},r.__decorate([(0,a.Prop)({type:Object,default:{}})],e.prototype,"questItem",void 0),r.__decorate([(0,a.Watch)("questItem")],e.prototype,"onChangeItem",null),e=r.__decorate([a.Component],e),e}(s.BaseComponent),f=m;e.default=f},"397d":function(t,e,i){"use strict";i.r(e);var n=i("7024"),o=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},"4d93":function(t,e,i){"use strict";i.r(e);var n=i("22cc"),o=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},"5cd3":function(t,e,i){"use strict";i.r(e);var n=i("63fa"),o=i("f790");for(var r in o)"default"!==r&&function(t){i.d(e,t,(function(){return o[t]}))}(r);var a=i("2877"),s=Object(a["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=s.exports},"63fa":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{staticClass:"fixed-nav"},[i("router-link",{staticClass:"btn-back",attrs:{to:"/"}})],1)},o=[];i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}))},7024:function(t,e,i){"use strict";var n=i("4ea4"),o=i("dbce");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("f751");var r=o(i("9ab4")),a=i("60a3"),s=i("8c0e"),c=i("cb7a"),l=i("aab0"),u=n(i("52c9")),d=n(i("3be0")),m=n(i("5cd3")),f=n(i("a09d")),p=i("4c9c"),v=i("d257"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.detailInfo={status:"",gameName:"",title:"",titleDesc:"",guideDesc:"",remainTime:{time:"",text:""},btnStatus:{class:"",text:"",disable:!1},remainReward:"",remainTermsText:""},e.PromotionStatus=p.PROMOTION_STATUS,e.adItem=new d.default,e.banner="",e.questList=[],e.questStyle="",e.isCPQ=!1,e.isFixed=!1,e.vLogData={},e}return r.__extends(e,t),e.prototype.created=function(){var t=this;this.defaultSetting(),this.subscribe(this.questListService.questList$,(function(e){t.setDetailInfo(e)}),(function(t){console&&console.log&&console.log("OfferwallDetail::questListService.questList$",t)})),this.subscribe(this.joinService.join$,(function(e){t.checkJoinStatus(e)}),(function(e){console&&console.log&&t.openAlert(l.i18nProvider.i18n.t("common.Modal.impossible_complete"))})),this.vLogData=Object.assign({},this.adItem,v.CookieUtil.getUserInfo())},e.prototype.mounted=function(){window.addEventListener("scroll",this.scrollEvent)},e.prototype.beforeDestroy=function(){this.removeEvents(),this.removeOfferwallInfo()},e.prototype.defaultSetting=function(){if(this.adItem=v.StorageUtil.getOfferwallInfo(),this.isCPQ=this.adItem&&this.adItem.category===p.OFFERWALL_CATEGORY.CPQ,this.isCPQ){var t=this.$route.params.adKey;this.questListService.retrieveQuestList(t),this.setDetailInfo(this.adItem)}else this.setDetailInfo(this.adItem)},e.prototype.setBtnStatus=function(t){var e={class:"",text:"",disable:!1};return t===p.PROMOTION_STATUS.JOIN?(e.class=p.BUTTON_STYLE.JOIN,e.text=l.i18nProvider.i18n.t("common.Promotion.ing"),e.disable=!1):t===p.PROMOTION_STATUS.COMPLETE&&(e.class=p.BUTTON_STYLE.COMPLETE,e.text=l.i18nProvider.i18n.t("common.Promotion.complete"),e.disable=!0),e},e.prototype.setDetailInfo=function(t){if(t){var e=this.adItem?this.adItem.rewardServiceName:"";if(this.banner=t&&t.adBanner?t.adBanner.resource:t.resource,this.detailInfo={status:t.status,gameName:e,title:t.title,titleDesc:v.CommonUtil.getContentText(v.CommonUtil.getReplaceAll(t.description),e),guideDesc:v.CommonUtil.getContentText(v.CommonUtil.getReplaceAll(t.guide.description),e),remainTime:v.TimeUtil.convertRemainTime(t.endDate),btnStatus:this.setBtnStatus(t.status),remainReward:v.CommonUtil.getRemainReward(t.remainCount),remainTermsText:v.TimeUtil.convertRemainTermsText(t.endDate,this.isCPQ)},t.category){var i=t.rewardList,n=t.status;i&&i.length>0&&i.map((function(t){return t.status=n})),t.category===p.OFFERWALL_CATEGORY.CPA&&(i.guide=t.guide)}this.questList=t&&t.category?t.rewardList:t.questList,this.questStyle=this.adItem.category&&this.adItem.category!==p.OFFERWALL_CATEGORY.CPQ?p.QUEST_CLASS.CPE:p.QUEST_CLASS.CPQ,this.setEventLogData(t)}},e.prototype.setEventLogData=function(t){var e=t.adBanner?t.adBanner.resourceId:t.resourceId;v.CookieUtil.setCookie(p.RESOURCE_ID,e),v.CookieUtil.setCookie(p.RESOURCE_TYPE,p.EVENT_RESOURCE_TYPE.OFFERWALL)},e.prototype.scrollEvent=function(){var t=this.$refs.banner,e=t.offsetHeight;this.isFixed=window.scrollY>e},e.prototype.hasMemberNo=function(){var t=this.userService.user;return t&&t.memberNo},e.prototype.joinPromotion=function(){if(this.hasMemberNo()){var t=this.adItem.adKey,e=this.adItem.category,i=this.adItem.resourceId;this.joinService.retrieveJoin(t,e,i)}else this.$router.push({path:"/network-error"})},e.prototype.checkJoinStatus=function(t){switch(t.joinType){case p.JOIN_TYPE.SUCCESS:this.getCompleteList(),this.isCPE(this.adItem.category)?this.goStore(t.actionUri):this.goOfferWallMain();break;case p.JOIN_TYPE.NONE_EXIST:this.openAlert(l.i18nProvider.i18n.t("common.Modal.no_event"));break;case p.JOIN_TYPE.ALREADY_JOIN:this.openAlert(l.i18nProvider.i18n.t("common.Modal.event_complete"));break;case p.JOIN_TYPE.ALREADY_COMPLETE:var e=l.i18nProvider.i18n.t("common.Modal.game_event_complete",{gameName:t.serviceName}),i=l.i18nProvider.i18n.t("common.Modal.event_complete");t.serviceName?this.openAlert(e):this.openAlert(i);break;case p.JOIN_TYPE.DUPLICATE:this.openAlert(l.i18nProvider.i18n.t("common.Modal.impossible_complete"));break;case p.JOIN_TYPE.SOLD_OUT:this.openAlert(l.i18nProvider.i18n.t("common.Modal.sold_out"));break;case p.JOIN_TYPE.CLOSE:this.openAlert(l.i18nProvider.i18n.t("common.Modal.event_closed"));break;case p.JOIN_TYPE.EXCLUSION:this.openAlert(l.i18nProvider.i18n.t("common.Modal.excluded_user"));break;case p.JOIN_TYPE.NEED_AD_ID:case p.JOIN_TYPE.NEED_WORLD_ID:case p.JOIN_TYPE.INCORRECT_WORLD_ID:this.openAlert(l.i18nProvider.i18n.t("common.Modal.need_adid"));break}},e.prototype.isCPE=function(t){return t===p.OFFERWALL_CATEGORY.CPE||t===p.OFFERWALL_CATEGORY.CPE2},e.prototype.goStore=function(t){var e=v.CommonUtil.getInstallReferrer(),i=encodeURIComponent(e),n="";if(t){if(t&&t.indexOf("?")>-1)n=t+"&referrer="+i;else{var o=t.substring(t.length-1,t.length);n="/"===o?t+"?referrer="+i:t+"/?referrer="+i}location.href=n}else console&&console.log&&console.log("OfferwallDetail::goStore","url'value is null")},e.prototype.goOfferWallMain=function(){this.$router.push({path:"/"})},e.prototype.getCompleteList=function(){console.log("완료 록록 갱신")},e.prototype.openAlert=function(t){this.alertService.open({contents:l.i18nProvider.i18n.t(t)})},e.prototype.removeEvents=function(){window.removeEventListener("scroll",this.scrollEvent)},e.prototype.removeOfferwallInfo=function(){v.StorageUtil.setOfferwallInfo(null),this.alertService.close()},r.__decorate([(0,c.lazyInject)(u.default.AlertService)],e.prototype,"alertService",void 0),r.__decorate([(0,c.lazyInject)(u.default.UserService)],e.prototype,"userService",void 0),r.__decorate([(0,c.lazyInject)(u.default.QuestListService)],e.prototype,"questListService",void 0),r.__decorate([(0,c.lazyInject)(u.default.JoinService)],e.prototype,"joinService",void 0),e=r.__decorate([(0,a.Component)({components:{BackButton:m.default,RewardItem:f.default}})],e),e}(s.BaseComponent),h=_;e.default=h},a09d:function(t,e,i){"use strict";i.r(e);var n=i("cf4c"),o=i("4d93");for(var r in o)"default"!==r&&function(t){i.d(e,t,(function(){return o[t]}))}(r);var a=i("2877"),s=Object(a["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=s.exports},b28f:function(t,e,i){t.exports=i.p+"img/img_badge_complete.77f8b661.png"},cf4c:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"reward-list-item"},[i("img",{attrs:{src:t.rewardInfo.image}}),i("div",{staticClass:"text"},[i("strong",[t._v(t._s(t.rewardTitle))]),t.questItem.questKey?t._e():i("span",[t._v(t._s(t.rewardInfo.item))])]),t.questItem.questKey?i("div",{staticClass:"text"},[i("span",{staticClass:"line"},[t._v(t._s(t.rewardInfo.item))]),i("span",{staticClass:"line"},[t._v(t._s(t.$t("common.Promotion.remain_amount"))+" : "),i("em",[t._v(t._s(t.rewardInfo.count))])])]):t._e()])},o=[];i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}))},d67f:function(t,e,i){"use strict";var n=i("dbce");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("9ab4")),r=i("60a3"),a=i("8c0e"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.goPromotionList=function(){this.$router.push({path:"/"})},e=o.__decorate([r.Component],e),e}(a.BaseComponent),c=s;e.default=c},dc78:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-a"},[i("div",{ref:"banner",staticClass:"banner"},[i("a",[i("img",{attrs:{src:t.banner,alt:"이벤트 배너"}})])]),i("div",{staticClass:"section-list"},[i("section",{staticClass:"section section-description"},[i("h2",{staticClass:"title"},[t._v(t._s(t.detailInfo.title))]),i("p",{domProps:{innerHTML:t._s(t.detailInfo.titleDesc)}}),i("div",{staticClass:"btn-area"},[t.vLogData&&t.detailInfo.status===t.PromotionStatus.BASIC?i("div",{directives:[{name:"stlog",rawName:"v-stlog:serviceType",value:{join:t.vLogData},expression:"{join: vLogData}",arg:"serviceType"}],staticClass:"btn fluid primary",class:{"is-fixed":t.isFixed},attrs:{"data-fixed-btn":""},on:{click:function(e){return e.preventDefault(),t.joinPromotion()}}},[i("span",[t._v(t._s(t.$t("common.Promotion.participation")))]),i("i",{staticClass:"ico ico-arrow-right"})]):i("div",{staticClass:"btn fluid",class:[{"is-fixed":t.isFixed},t.detailInfo.btnStatus.class],attrs:{"data-fixed-btn":"",disabled:t.detailInfo.btnStatus.disable}},[i("span",[t._v(t._s(t.detailInfo.btnStatus.text))])])])]),i("section",{staticClass:"section"},[i("div",{staticClass:"d-day_area"},[i("h2",{staticClass:"title"},[t._v(t._s(t.$t("common.Promotion.reward_join"))+" "),i("sup",[t._v(t._s(t.detailInfo.gameName))])]),i("div",{staticClass:"reward-notice",class:{center:t.isCPQ}},[i("div",{staticClass:"inner"},[i("span",{staticClass:"col",class:{one:t.isCPQ},domProps:{innerHTML:t._s(t.detailInfo.remainTermsText)}}),t.isCPQ?t._e():i("span",{staticClass:"col right"},[t._v(t._s(t.$t("common.Promotion.remain_amount"))+" : "+t._s(t.detailInfo.remainReward))])])])]),i("ul",{class:[t.questStyle]},t._l(t.questList,(function(t,e){return i("reward-item",{key:e,attrs:{questItem:t}})})),1)]),i("section",{staticClass:"section"},[i("h2",{staticClass:"title"},[t._v(t._s(t.$t("common.Promotion.join_way")))]),i("p",{domProps:{innerHTML:t._s(t.detailInfo.guideDesc)}})])]),i("back-button")],1)},o=[];i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}))},e598:function(t,e,i){"use strict";i.r(e);var n=i("dc78"),o=i("397d");for(var r in o)"default"!==r&&function(t){i.d(e,t,(function(){return o[t]}))}(r);var a=i("2877"),s=Object(a["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=s.exports},f790:function(t,e,i){"use strict";i.r(e);var n=i("d67f"),o=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a}}]);