(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Banner"],{5891:function(e,o,n){e.exports=n.p+"img/img_emo01.e4bd1112.png"},"7eca":function(e,o,n){"use strict";var t=n("9e82"),r=n.n(t);r.a},"9e82":function(e,o,n){},d5c7:function(e,o,n){"use strict";n.r(o);var t=function(){var e=this,o=e.$createElement,t=e._self._c||o;return e.banner.adInfo?t("div",{staticClass:"cover-banner"},[t("a",{directives:[{name:"stlog",rawName:"v-stlog:Crosspromotion",value:{crosspromotionMobilePopup:e.banner.adInfo},expression:"{crosspromotionMobilePopup: banner.adInfo}",arg:"Crosspromotion"}],staticClass:"cover-banner_img",on:{click:function(o){return e.clickJoinPromotion(e.banner)}}},[t("img",{attrs:{src:e.banner.adInfo.resource}})]),t("circle-loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1):t("div",{staticClass:"banner-container"},[e.isNoEvent?t("div",{staticClass:"banner-content"},[t("div",{staticClass:"banner-empty"},[t("img",{attrs:{src:n("5891"),alt:""}}),t("p",[e._v(e._s(e.$t("common.Modal.no_event")))])])]):e._e()])},r=[],i=n("9ab4"),a=n("60a3"),c=n("8c0e"),s=n("cb7a"),l=n("aab0"),p=n("52c9"),d=n("dda2"),u=n("d257"),m=n("07b8"),h=n("4c9c"),v=function(){var e=this,o=e.$createElement,n=e._self._c||o;return n("div",{staticClass:"loading"},[n("div",{staticClass:"loading-content"},[n("div",{staticClass:"loading-content-inner"},[n("div",{staticClass:"loading-indicator"}),n("p",[e._v(e._s(e.$t("common.Modal.please_wait")))])])]),n("div",{staticClass:"loading-dimmed"})])},b=[],f=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return i["d"](o,e),o=i["c"]([a["a"]],o),o}(c["a"]),g=f,_=g,S=n("2877"),I=Object(S["a"])(_,v,b,!1,null,null,null),y=I.exports,E=function(e){function o(){var o=null!==e&&e.apply(this,arguments)||this;return o.banner=new d["a"],o.isNoEvent=!1,o.isLoading=!0,o}return i["d"](o,e),o.prototype.created=function(){var e=this,o=null;o=""!==this.getAdKey()?this.bannerInfoService.bannerInfo$:this.bannerService.banner$,this.subscribe(o,(function(o){o&&o.adInfo?(e.banner=o,e.banner&&e.banner.adInfo&&(u["b"].setCookie(m["a"].AD_KEY,e.banner.adInfo.adKey),u["b"].setCookie(m["a"].RESOURCE_ID,e.banner.adInfo.resourceId),u["b"].setCookie(m["a"].RESOURCE_TYPE,h["g"].BANNER)),e.isNoEvent=!1):(e.banner=new d["a"],e.isNoEvent=!0),e.isLoading=!1}),(function(o){e.isLoading=!1,e.$router.push({path:"/network-error"}),console&&console.error&&console.error("Banner::BannerService.banner$",o)})),this.subscribe(this.joinService.join$,(function(o){e.checkJoinStatus(o)}),(function(o){console&&console.log&&e.openAlert(l["a"].i18n.t("common.Modal.impossible_complete"))}))},o.prototype.mounted=function(){this.fetchData()},o.prototype.joinIOSPromotion=function(e){var o=e.actionUri;location.href=o},o.prototype.getAdKey=function(){var e=this.$route.query.adKey||"";return e},o.prototype.checkStatus=function(e){console.log("checkStatus")},o.prototype.showAlert=function(e){if(e.completeInfo){var o=e.completeInfo;switch(o.status){case h["d"].ALREADY_JOIN:this.openAlert(l["a"].i18n.t("common.Modal.event_complete"));break;case h["d"].ALREADY_COMPLETE:o.serviceName?this.openAlert(l["a"].i18n.t("common.Modal.game_event_complete",{gameName:o.serviceName})):this.openAlert(l["a"].i18n.t("common.Modal.event_complete"));break}}else e.excludeInfo&&this.openAlert(l["a"].i18n.t("common.Modal.excluded_user"))},o.prototype.openAlert=function(e){this.alertService.open({contents:l["a"].i18n.t(e)})},o.prototype.hasMemberNo=function(){var e=this.userService.user;return e&&e.memberNo},o.prototype.clickJoinPromotion=function(e){if(this.hasMemberNo()){var o=e.adInfo,n=u["b"].getDeviceType();switch(n){case h["j"].AOS:e.completeInfo||e.excludeInfo?this.showAlert(e):this.joinPromotion(o);break;case h["j"].IOS:this.joinIOSPromotion(o);break;default:break}}else this.$router.push({path:"/network-error"})},o.prototype.joinPromotion=function(e){var o=e.adKey,n=e.category,t=e.resourceId;this.joinService.retrieveJoin(o,n,t)},o.prototype.checkJoinStatus=function(e){var o=this.banner.adInfo;switch(e.joinType){case h["h"].SUCCESS:this.getCompleteList(),o&&this.isCPE(o.category)?this.goStore(e.actionUri):this.goOfferWallMain();break;case h["h"].NONE_EXIST:this.openAlert(l["a"].i18n.t("common.Modal.no_event"));break;case h["h"].ALREADY_JOIN:this.openAlert(l["a"].i18n.t("common.Modal.event_complete"));break;case h["h"].ALREADY_COMPLETE:var n=l["a"].i18n.t("common.Modal.game_event_complete",{gameName:e.serviceName}),t=l["a"].i18n.t("common.Modal.event_complete");e.serviceName?this.openAlert(n):this.openAlert(t);break;case h["h"].DUPLICATE:this.openAlert(l["a"].i18n.t("common.Modal.impossible_complete"));break;case h["h"].SOLD_OUT:this.openAlert(l["a"].i18n.t("common.Modal.sold_out"));break;case h["h"].CLOSE:this.openAlert(l["a"].i18n.t("common.Modal.event_closed"));break;case h["h"].EXCLUSION:this.openAlert(l["a"].i18n.t("common.Modal.excluded_user"));break;case h["h"].NEED_AD_ID:case h["h"].NEED_WORLD_ID:case h["h"].INCORRECT_WORLD_ID:this.openAlert(l["a"].i18n.t("common.Modal.need_adid"));break}},o.prototype.isCPE=function(e){return e===h["i"].CPE||e===h["i"].CPE2},o.prototype.goStore=function(e){var o=u["a"].getInstallReferrer(),n=encodeURIComponent(o),t="";if(e){if(e&&e.indexOf("?")>-1)t=e+"&referrer="+n;else{var r=e.substring(e.length-1,e.length);t="/"===r?e+"?referrer="+n:e+"/?referrer="+n}location.href=t}else console&&console.log&&console.log("OfferwallDetail::goStore","url'value is null")},o.prototype.goOfferWallMain=function(){this.$router.push({path:"/"})},o.prototype.getCompleteList=function(){console.log("완료 록록 갱신")},o.prototype.fetchData=function(){""!==this.getAdKey()?this.bannerInfoService.retrieveBannerInfo(this.getAdKey()):this.bannerService.retrieveBanner()},i["c"]([Object(s["b"])(p["a"].AlertService)],o.prototype,"alertService",void 0),i["c"]([Object(s["b"])(p["a"].BannerService)],o.prototype,"bannerService",void 0),i["c"]([Object(s["b"])(p["a"].BannerInfoService)],o.prototype,"bannerInfoService",void 0),i["c"]([Object(s["b"])(p["a"].UserService)],o.prototype,"userService",void 0),i["c"]([Object(s["b"])(p["a"].JoinService)],o.prototype,"joinService",void 0),o=i["c"]([Object(a["a"])({components:{CircleLoading:y}})],o),o}(c["a"]),A=E,C=A,O=(n("7eca"),Object(S["a"])(C,t,r,!1,null,"1b5f3bd2",null));o["default"]=O.exports}}]);